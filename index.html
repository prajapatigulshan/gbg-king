<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Minecraft Style Parkour</title>
<style>
  html, body {
    margin: 0;
    padding: 0;
    overflow: hidden;
    background: linear-gradient(#87CEEB, #ccefff);
    height: 100vh;
  }
  canvas {
    display: block;
    background: linear-gradient(#87CEEB, #d1f7ff);
  }
</style>
</head>
<body>
<canvas id="game" width="960" height="540"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");
const W = canvas.width, H = canvas.height;

let player = {
  x: 100, y: 400,
  w: 32, h: 32,
  vy: 0, onGround: false
};

let gravity = 0.5;
let blocks = [
  {x: 0, y: 480, w: 960, h: 60, type: "grass"},
  {x: 220, y: 420, w: 60, h: 60, type: "stone"},
  {x: 380, y: 360, w: 60, h: 60, type: "wood"},
  {x: 540, y: 300, w: 60, h: 60, type: "stone"},
  {x: 700, y: 240, w: 60, h: 60, type: "grass"}
];

// Minecraft textures (online)
const textures = {
  grass: new Image(),
  stone: new Image(),
  wood: new Image(),
  player: new Image()
};
textures.grass.src = "https://i.ibb.co/z7L5g1X/grass.png";
textures.stone.src = "https://i.ibb.co/RNnQwrQ/stone.png";
textures.wood.src = "https://i.ibb.co/fn2PKmj/wood.png";
textures.player.src = "https://i.ibb.co/QYJLJhk/steve.png";

let keys = {};
addEventListener("keydown", e => keys[e.code] = true);
addEventListener("keyup", e => keys[e.code] = false);

function drawBlock(b) {
  // Draw texture
  let img = textures[b.type];
  if (img.complete) {
    ctx.drawImage(img, b.x, b.y, b.w, b.h);
    // fake 3D shadow
    ctx.fillStyle = "rgba(0,0,0,0.2)";
    ctx.fillRect(b.x + 5, b.y + b.h - 10, b.w, 10);
  } else {
    ctx.fillStyle = "#444";
    ctx.fillRect(b.x, b.y, b.w, b.h);
  }
}

function update() {
  if (keys["ArrowLeft"]) player.x -= 4;
  if (keys["ArrowRight"]) player.x += 4;

  // Jump
  if ((keys["ArrowUp"] || keys["Space"]) && player.onGround) {
    player.vy = -10;
    player.onGround = false;
  }

  player.vy += gravity;
  player.y += player.vy;

  // Collision
  player.onGround = false;
  for (let b of blocks) {
    if (
      player.x < b.x + b.w &&
      player.x + player.w > b.x &&
      player.y + player.h > b.y &&
      player.y < b.y + b.h
    ) {
      if (player.vy > 0) {
        player.y = b.y - player.h;
        player.vy = 0;
        player.onGround = true;
      }
    }
  }

  if (player.y > H) {
    player.x = 100; player.y = 400; player.vy = 0;
  }
}

function drawBackground() {
  // Sky
  ctx.fillStyle = ctx.createLinearGradient(0,0,0,H);
  ctx.fillStyle.addColorStop?.(0,"#87CEEB");
  ctx.fillStyle.addColorStop?.(1,"#bdefff");
  ctx.fillRect(0,0,W,H);

  // Clouds
  ctx.fillStyle = "rgba(255,255,255,0.8)";
  for (let i = 0; i < 6; i++) {
    let x = (Date.now()/20 + i*150) % W;
    ctx.beginPath();
    ctx.ellipse(W - x, 100 + Math.sin(i)*15, 50, 25, 0, 0, Math.PI*2);
    ctx.fill();
  }
}

function drawPlayer() {
  if (textures.player.complete) {
    ctx.drawImage(textures.player, player.x, player.y, player.w, player.h);
  } else {
    ctx.fillStyle = "#ffcc66";
    ctx.fillRect(player.x, player.y, player.w, player.h);
  }
}

function loop() {
  drawBackground();
  for (let b of blocks) drawBlock(b);
  drawPlayer();
  update();
  requestAnimationFrame(loop);
}
loop();
</script>
</body>
</html>
